<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/ula-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/u3-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/u3-16.png">
  <link rel="mask-icon" href="/images/ula-logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="fonts.googleapis.com/css?family=Montserrat:300,300italic,400,400italic,700,700italic|Amatic SC:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700|Montserrat:400,400i,700,700i|Noto+Serif+TC:400,500,700&display=swap&subset=chinese-traditional" rel="stylesheet">





<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://ulahsieh.github.io').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"right","display":"hide","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="æ­¤ç¯‡æ–‡å°‡è¬›åœ¨ç†è§£ Golang GMP ä¹‹å‰ï¼¿ åŸå…ˆåªæ˜¯æƒ³èŠ±é»æ™‚é–“ææ‡‚ Golang çš„æ€§èƒ½ï¼Œä½†æ®Šä¸çŸ¥è¡ç”Ÿåˆ°ä½œæ¥­ç³»çµ±çš„åº•å±¤é‹ä½œï¼Œå°±ç”Ÿå‡ºäº†é€™é‡å°ä½œæ¥­ç³»çµ±çš„ç­†è¨˜ï¼Œç•¶ä½œæ˜¯å¤§å­¸å­¸çš„ OS ç†è«–çš„å›é¡§(è€å¯¦èªªå¿˜å¾—å·®ä¸å¤šäº†  ) ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’ ç¨‹å¼(Program) å°šæœªè¼‰é€²è¨˜æ†¶é«”çš„éœæ…‹ç¨‹å¼ç¢¼é›†åˆã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="[OS] ä½œæ¥­ç³»çµ±æ¦‚è«–">
<meta property="og:url" content="https://ulahsieh.github.io/OS-introduction.html">
<meta property="og:site_name" content="UlaGraphy">
<meta property="og:description" content="æ­¤ç¯‡æ–‡å°‡è¬›åœ¨ç†è§£ Golang GMP ä¹‹å‰ï¼¿ åŸå…ˆåªæ˜¯æƒ³èŠ±é»æ™‚é–“ææ‡‚ Golang çš„æ€§èƒ½ï¼Œä½†æ®Šä¸çŸ¥è¡ç”Ÿåˆ°ä½œæ¥­ç³»çµ±çš„åº•å±¤é‹ä½œï¼Œå°±ç”Ÿå‡ºäº†é€™é‡å°ä½œæ¥­ç³»çµ±çš„ç­†è¨˜ï¼Œç•¶ä½œæ˜¯å¤§å­¸å­¸çš„ OS ç†è«–çš„å›é¡§(è€å¯¦èªªå¿˜å¾—å·®ä¸å¤šäº†  ) ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’ ç¨‹å¼(Program) å°šæœªè¼‰é€²è¨˜æ†¶é«”çš„éœæ…‹ç¨‹å¼ç¢¼é›†åˆã€‚">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://twemoji.maxcdn.com/v/12.1.4/72x72/1f605.png">
<meta property="og:image" content="https://imgur.com/nnn6bxW.png">
<meta property="og:image" content="https://imgur.com/KxNlQOJ.png">
<meta property="og:image" content="https://imgur.com/FscjQVY.png">
<meta property="og:image" content="https://imgur.com/6xyHblp.jpg">
<meta property="og:image" content="https://imgur.com/2jUidLK.png">
<meta property="og:image" content="https://imgur.com/jPEtZMl.png">
<meta property="og:image" content="https://imgur.com/bZChgTB.png">
<meta property="og:image" content="https://imgur.com/v5Eup0o.png">
<meta property="article:published_time" content="2020-02-02T10:05:00.000Z">
<meta property="article:modified_time" content="2020-02-12T13:57:42.380Z">
<meta property="article:author" content="Ula Hsieh">
<meta property="article:tag" content="OS">
<meta property="article:tag" content="kernel">
<meta property="article:tag" content="Context Switch">
<meta property="article:tag" content="Multi-Thread">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://twemoji.maxcdn.com/v/12.1.4/72x72/1f605.png">

<link rel="canonical" href="https://ulahsieh.github.io/OS-introduction.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-float {
  bottom: 88px;
  cursor: pointer;
  left: -8px;
  position: fixed;
  z-index: 9999;
}
#needsharebutton-float .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 4px;
  padding: 0 10px 0 14px;
}
</style>
  <title>[OS] ä½œæ¥­ç³»çµ±æ¦‚è«– | UlaGraphy</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">UlaGraphy</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">Get busy living or get busy dying</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://ulahsieh.github.io/OS-introduction.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ula Hsieh">
      <meta itemprop="description" content="Hello! :-) æˆ‘æ˜¯ Ula </br>(ç™¼éŸ³ U æ‹‰æˆ–çƒæ‹‰éƒ½å¯ä»¥)</br>å–œæ­¡åƒã€‚</br>æ­£åœ¨å¾€ç¨±è·çš„å·¥ç¨‹å¸«è·¯ä¸Šå‰é€²ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UlaGraphy">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          [OS] ä½œæ¥­ç³»çµ±æ¦‚è«–
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-02 18:05:00" itemprop="dateCreated datePublished" datetime="2020-02-02T18:05:00+08:00">2020-02-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OS/" itemprop="url" rel="index">
                    <span itemprop="name">OS</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>5.9k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>5 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>æ­¤ç¯‡æ–‡å°‡è¬›åœ¨ç†è§£ Golang GMP ä¹‹å‰ï¼¿<br>
åŸå…ˆåªæ˜¯æƒ³èŠ±é»æ™‚é–“ææ‡‚ Golang çš„æ€§èƒ½ï¼Œä½†æ®Šä¸çŸ¥è¡ç”Ÿåˆ°ä½œæ¥­ç³»çµ±çš„åº•å±¤é‹ä½œï¼Œå°±ç”Ÿå‡ºäº†é€™é‡å°ä½œæ¥­ç³»çµ±çš„ç­†è¨˜ï¼Œç•¶ä½œæ˜¯å¤§å­¸å­¸çš„ OS ç†è«–çš„å›é¡§(è€å¯¦èªªå¿˜å¾—å·®ä¸å¤šäº† <img class="emoji" draggable="false" alt="ğŸ˜…" src="https://twemoji.maxcdn.com/v/12.1.4/72x72/1f605.png"> )</p>
<h3 id="ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’">ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’</h3>
<h4 id="ç¨‹å¼-Program">ç¨‹å¼(Program)</h4>
<p>å°šæœªè¼‰é€²è¨˜æ†¶é«”çš„<strong>éœæ…‹ç¨‹å¼ç¢¼é›†åˆ</strong>ã€‚</p>
<a id="more"></a>
<h4 id="ç¨‹åº-Process">ç¨‹åº(Process)</h4>
<p>æ­£åœ¨åŸ·è¡Œä¸¦è¼‰é€²è¨˜æ†¶é«”ä¸­çš„<strong>å‹•æ…‹ç¨‹å¼</strong>ï¼Œæ˜¯ä½œæ¥­ç³»çµ±åˆ†é…è³‡æºçš„æœ€å°å–®ä½ï¼ˆOS ä»¥ç¨‹åºç‚ºå–®ä½ï¼Œåˆ†é…ç³»çµ±è³‡æºï¼ŒOS ä¸‹çš„å·¥ä½œç®¡ç†å“¡æ‰€æ¨™ç¤ºçš„ä¸€å€‹å€‹ task å³ç‚ºä¸€å€‹ç¨‹åºï¼Œæ“æœ‰ç¨ç«‹çš„ PID ä»¥åŠè¨˜æ†¶é«”ç©ºé–“ï¼‰ã€‚</p>
<h4 id="åŸ·è¡Œç·’-Thread">åŸ·è¡Œç·’(Thread)</h4>
<p>åˆç¨± Light-weight Process (LWP)ï¼Œæ˜¯ OS ä¸­é€²è¡Œé‹ç®—æ’ç¨‹çš„æœ€å°å–®ä½ï¼Œè¢«åŒ…åœ¨ä¸€å€‹ Process ä¸­ï¼Œè€ŒåŒä¸€ Process ä¸‹çš„å„å€‹åŸ·è¡Œç·’ä¹‹é–“å…±äº«è©² Process è³‡æºã€‚</p>
<table><tr><td bgcolor="#FAFAFA">
ä¸‰è€…çš„é—œä¿‚æ˜¯ï¼šä¸€å€‹ç¨‹å¼å¯ä»¥æœƒæœ‰å¤šå€‹ç¨‹åºï¼Œä¸€å€‹ç¨‹åºå¯èƒ½æœƒæœ‰å¤šå€‹åŸ·è¡Œç·’ã€‚
</td></tr></table>
<p><img src="https://imgur.com/nnn6bxW.png" alt></p>
<h3 id="ä½µç™¼-concurrency-v-s-ä¸¦è¡Œ-parallelism">ä½µç™¼(concurrency) v.s. ä¸¦è¡Œ(parallelism)</h3>
<h4 id="ä½µç™¼">ä½µç™¼</h4>
<p>åŒæ™‚åŸ·è¡Œå¤šå€‹ç¨ç«‹çš„ç¨‹å¼é‚è¼¯ï¼Œä½†ä¸¦ä¸ä»£è¡¨åŒæ™‚é€²è¡Œè™•ç†ã€‚<br>
è‹¥ç¨‹å¼åŸ·è¡Œåœ¨å–®æ ¸å–®åŸ·è¡Œç·’çš„ CPU ä¸Šï¼Œæ‰€æœ‰ä»»å‹™éƒ½é ˆæ’éšŠç­‰å¾… CPU è³‡æºã€‚</p>
<h4 id="ä¸¦è¡Œ">ä¸¦è¡Œ</h4>
<p>è®“ç¨‹å¼<strong>çœŸæ­£çš„åŒæ™‚</strong>è™•ç†å¤šå€‹ä»»å‹™ï¼Œä¸¦è¡Œä¸¦ä¸æ˜¯ç¨‹å¼èƒ½å¤ å¸¶ä¾†çš„ç‰¹æ€§ï¼Œè€Œæ˜¯éœ€è¦é ç¡¬é«”ï¼Œéœ€ä»°è³´å¤šæ ¸ CPU æˆ–æ˜¯ä½¿ç”¨å¤šå°ä¼ºæœå™¨çµ„æˆå¢é›†ã€‚</p>
<table><tr><td bgcolor="#FAFAFA">
å…©è€…çš„é—œä¿‚æ˜¯ï¼šä¸¦è¡Œçš„ç‹€æ³ä¸€å®šæœƒä½µç™¼ï¼Œä½†ç™¼ç”Ÿä½µç™¼æ™‚å»ä¸ä¸€å®šæ˜¯ä¸¦è¡Œã€‚
</td></tr></table>
<p><img src="https://imgur.com/KxNlQOJ.png" alt></p>
<h3 id="Multiprogramingã€Multiprocessingã€Multitaskingã€Multithreading">Multiprogramingã€Multiprocessingã€Multitaskingã€Multithreading</h3>
<h4 id="Multiprogramming">Multiprogramming</h4>
<p>é›»è…¦åŒæ™‚<font color="#FF5959">(concurrency)</font>åŸ·è¡Œå¤šå€‹ç¨‹å¼ã€‚ï¼ˆå¦‚åŒæ™‚ä½¿ç”¨ excel ä»¥åŠ firefoxï¼‰</p>
<h4 id="Multiprocessing">Multiprocessing</h4>
<p>é›»è…¦åŒæ™‚ä½¿ç”¨å¤šå€‹è™•ç†å™¨ï¼Œå¤šå€‹ç¨‹åºå¯åœ¨åŒä¸€æ™‚é–“<font color="#FF5959">(parallelism)</font>åŸ·è¡Œã€‚</p>
<h4 id="Multitasking">Multitasking</h4>
<p>å¤šå€‹ä»»å‹™å…±äº«ä¸€å€‹è³‡æº(å¦‚ä¸€é¡† CPU æˆ–è¨˜æ†¶é«”)ã€‚</p>
<h4 id="Multithreading">Multithreading</h4>
<p>æŒ‡ä¸€å€‹ç¨‹åºä¸­æœ‰å¤šå€‹åŸ·è¡Œç·’åœ¨åŸ·è¡Œï¼Œå½¼æ­¤å…±ç”¨ç›¸åŒçš„ç¨‹åºè³‡æºã€‚</p>
<p>é›–ç„¶å­—é¢ä¸Šçœ‹èµ·ä¾†æ„æ€æ¥è¿‘ï¼Œä½†æ¯å€‹åè©éƒ½æœ‰äº›å¾®çš„å·®è·ï¼Œå…¶ä¸­ç‰¹åˆ¥è¨˜éŒ„åœ¨å…¶ä»–ç¶²ç«™ä¸­çœ‹åˆ°é‡å° multitasking and multiprogramming çš„é—¡è¿°ï¼¿</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Multitasking is a logical extension of multi programming. The major way in which multitasking differs from multi programming is that multi programming works solely on the concept of context switching whereas multitasking is based on time sharing alongside the concept of context switching. [1]</span><br></pre></td></tr></table></figure>
<p>Multitasking æ˜¯ Multiprogramming çš„é‚è¼¯æ“´å±•ï¼Œä¸»è¦çš„ä¸åŒåœ¨æ–¼ Multiprogramming æ˜¯å¤šå€‹ç¨‹å¼åŸºæ–¼ä¸Šä¸‹æ–‡åˆ‡æ›çš„æ¦‚å¿µä¸Šç¨ç«‹é‹ä½œï¼Œè€Œ Multitasking çš„è§€å¿µå‰‡æ˜¯è¼ƒè‘—é‡æ–¼ time-sharingï¼ˆå¯èƒ½æ˜¯åŒä¸€å€‹ç¨‹å¼ä¸­çš„ä¸åŒç¨‹åºï¼‰ã€‚</p>
<h3 id="Kernel-Space-User-Space">Kernel Space &amp; User Space</h3>
<h4 id="Kernel-Space-å…§æ ¸ç©ºé–“">Kernel Space å…§æ ¸ç©ºé–“</h4>
<p>æœ‰é—œä½œæ¥­ç³»çµ±çš„æ‰€æœ‰æ•¸æ“šã€ç¨‹åºçš†åœ¨æ­¤é‹è¡Œã€‚</p>
<h4 id="User-Spaceg-ä½¿ç”¨è€…ç©ºé–“">User Spaceg ä½¿ç”¨è€…ç©ºé–“</h4>
<p>æŒ‡ user ç¨‹åºçš„é‹è¡Œç©ºé–“ï¼Œæ¬Šé™æœ‰é™ï¼Œè‹¥è¦èª¿ç”¨ç³»çµ±è³‡æºï¼Œéœ€é€é system callã€‚</p>
<p>p.s. å…©å€‹ç©ºé–“çš„åŠƒåˆ†ä¾æ“šä¸åŒä½å…ƒä»¥åŠä¸åŒç‰ˆæœ¬çš„ä½œæ¥­ç³»çµ±è€Œä¸åŒã€‚</p>
<h4 id="Protection-Ring">Protection Ring</h4>
<p>ç‚ºäº†éš”çµ•ä¸åŒçš„ç¨‹åºï¼ŒCPU æä¾›äº†ä¸€å€‹ Pretection Ring çš„æ©Ÿåˆ¶ï¼Œä¾æ“šä¸åŒæ¶æ§‹çš„ CPUï¼Œæ‰€åŠƒåˆ†çš„å±¤ç´šä¹Ÿä¸åŒï¼Œä½†æ±ºå®šæ–¼ä½œæ¥­ç³»çµ±çš„éœ€æ±‚ï¼Œä¾‹å¦‚ Linux æˆ– Windows Server 2008 åƒ…ä½¿ç”¨äº† Ring 0 å’Œ Ring 3 å…©å€‹ç´šåˆ¥ã€‚[2]<br>
ä¸‹åœ–ç‚º x86 è™•ç†å™¨å¯ç”¨çš„ç‰¹æ¬Šç´šåˆ¥<br>
<img src="https://imgur.com/FscjQVY.png" alt></p>
<h4 id="Kernel-Mode-User-Mode">Kernel Mode &amp; User Mode</h4>
<p>ç•¶ç¨‹åºé‹è¡Œåœ¨ kernel space æ™‚ CPU å°±è™•æ–¼ kernel modeï¼Œåˆ‡æ›åˆ°RING 0 æœ€é«˜æ¬Šé™æ¨¡å¼ï¼Œèƒ½ç›´æ¥èˆ‡ç¡¬é«”äº’å‹•ï¼Œè€Œé‹è¡Œåœ¨ user space æ™‚ CPU å‰‡è™•æ–¼ user modeï¼ŒCPU åªæ¡ç”¨ RING 3 æœ€ä½æ¬Šé™æ¨¡å¼ã€‚</p>
<h4 id="æ¨¡å¼åˆ‡æ›-Mode-Switch">æ¨¡å¼åˆ‡æ›(Mode Switch)</h4>
<p>æŒ‡å¾ user mode åˆ‡æ›åˆ° kernel mode çš„ç‹€æ³ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç¨®ï¼š</p>
<ol>
<li>ç³»çµ±å‘¼å« (system call)ï¼šä½¿ç”¨è€…ç¨‹å¼è¦æ±‚ OS æœå‹™ã€‚</li>
<li>ç•°å¸¸ (exception)ï¼šç¨‹å¼åŸ·è¡Œéæ³•å‹•ä½œ (stack overflow, divided by zero)ã€‚</li>
<li>ä¸­æ–· (interruption)ï¼šç•¶å¤–åœè¨­å‚™å®Œæˆ user è«‹æ±‚çš„æ“ä½œå¾Œï¼Œæœƒå‘ CPU ç™¼å‡ºä¸­æ–·è¨Šè™Ÿï¼Œé€™æ™‚ CPU æœƒæš«åœç•¶å‰çš„ç¨‹åºï¼Œè½‰è€Œå»åŸ·è¡Œä¸­æ–·è¨Šè™Ÿå°æ‡‰çš„è™•ç†ç¨‹åºã€‚æ¯”å¦‚ç¡¬ç¢Ÿè®€å¯«æ“ä½œå®Œæˆæ™‚ï¼Œç³»çµ±æœƒåˆ‡æ›åˆ°ç¡¬ç›¤è®€å¯«çš„ä¸­æ–·è™•ç†ç¨‹åºä¸­åŸ·è¡Œå¾ŒçºŒæ“ä½œã€‚</li>
</ol>
<h4 id="å°çµ">å°çµ</h4>
<p>å€åˆ†å…©å€‹ç©ºé–“ (space) ä»¥åŠä¸åŒæ¬Šé™ (mode) çš„ç”¨é€”èˆ‡å¥½è™•:</p>
<ol>
<li>ç¢ºä¿ç³»çµ±æ•¸æ“šä¸è¢«éš¨æ„æ“ä½œï¼Œé˜²æ­¢ç ´å£</li>
<li>ç¢ºä¿è³‡æºä¸è¢«å–®ä¸€ä½¿ç”¨ç¨‹åºéœ¸ä½”</li>
<li>ç¢ºä¿å…©å€‹ä½¿ç”¨ç¨‹åºä¸æœƒç›¸äº’å¹²æ“¾</li>
<li>ç¢ºä¿ç¡¬é«”æ“ä½œæ­£ç¢º</li>
</ol>
<p>ä¸Šé¢åŸºç¤æ¦‚å¿µè¬›å®Œå¾Œï¼Œå›åˆ°åŸ·è¡Œç·’ï¼Œè¨è«–æ›´æ·±çš„æ¦‚å¿µï¼š</p>
<h3 id="Single-thread-Multi-thread">Single-thread &amp; Multi-thread</h3>
<p><img src="https://imgur.com/6xyHblp.jpg" alt><br>
æ¯å€‹ Thread æ“æœ‰ç¨ç«‹çš„ stackï¼Œå¤šå€‹ Thread ä¹‹é–“å› ç‚ºå…±ç”¨ Process çš„è¨˜æ†¶é«”ï¼Œæ•…å¯ä»¥å…±ç”¨è®Šæ•¸ã€‚</p>
<h4 id="Single-Thread-å–®åŸ·è¡Œç·’">Single Thread å–®åŸ·è¡Œç·’</h4>
<p>æ¯å€‹æ­£åœ¨åŸ·è¡Œçš„ç¨‹å¼(å³ç¨‹åº)ï¼Œè‡³å°‘åŒ…æ‹¬<span class="dotunderletter"><strong>ä¸€å€‹</strong></span>åŸ·è¡Œç·’ï¼Œç¨±ä½œä¸»åŸ·è¡Œç·’ï¼Œå®ƒåœ¨ç¨‹å¼å•Ÿå‹•æ™‚è¢«å»ºç«‹ï¼Œç”¨æ–¼åŸ·è¡Œ main å‡½å¼ã€‚<br>
è€Œç¨‹å¼è‹¥åªæœ‰ä¸€å€‹ä¸»åŸ·è¡Œç·’ï¼Œç¨±ä½œ<font color="DarkBlue">å–®åŸ·è¡Œç·’ç¨‹å¼ã€‚</font><br>
ä¸»åŸ·è¡Œç·’è² è²¬åŸ·è¡Œç¨‹å¼çš„æ‰€æœ‰ç¨‹å¼ç¢¼ï¼Œé€™äº›ç¨‹å¼ç¢¼åªèƒ½é †åºåŸ·è¡Œï¼Œç„¡æ³•ä½µç™¼åŸ·è¡Œã€‚</p>
<h4 id="Multi-Thread-å¤šåŸ·è¡Œç·’">Multi Thread å¤šåŸ·è¡Œç·’</h4>
<p>æ“æœ‰<span class="dotunderletter"><strong>å¤šå€‹</strong></span>åŸ·è¡Œç·’çš„ç¨‹å¼ï¼Œå½¼æ­¤å¯ç¨ç«‹ä½µç™¼åŸ·è¡Œã€‚<br>
èƒ½æœ‰æ•ˆåœ°é¿å…ç¨‹å¼ç¢¼é˜»å¡ï¼Œæé«˜ç¨‹å¼çš„åŸ·è¡Œæ•ˆèƒ½ã€‚</p>
<h3 id="ULT-KLT-LWP">ULT &amp; KLT &amp; LWP</h3>
<h4 id="User-Thread-ä½¿ç”¨è€…åŸ·è¡Œç·’">User Thread ä½¿ç”¨è€…åŸ·è¡Œç·’</h4>
<p>åˆç¨± User Level Thread (ULT)ï¼Œåœ¨ user mode ä¸‹é€²è¡Œï¼ŒOS ä¸çŸ¥ ULT å­˜åœ¨ï¼Œä¸éœ€è¦ OS ä»‹å…¥ç®¡ç†ï¼Œä¸»è¦ç”± user-level thread library (å¦‚ Java threads, Win32 threads, POSIX Threads  aka Pthreads) ç®¡ç†ã€‚</p>
<ul>
<li>å„ªé»ï¼šç”¢ç”Ÿã€ç®¡ç†æˆæœ¬è¼ƒä½</li>
<li>ç¼ºé»ï¼šç•¶ kernel ç‚º single threadï¼Œç¨‹åºçš„ user thread  ç™¼å‡º system call æ™‚ï¼Œå‰‡æ•´å€‹ç¨‹åºæœƒè¢«é–ä½ã€‚</li>
</ul>
<h4 id="Kernel-Thread-æ ¸å¿ƒåŸ·è¡Œç·’">Kernel Thread æ ¸å¿ƒåŸ·è¡Œç·’</h4>
<p>åˆç¨± Kernel Level Thread (KLT)ï¼Œåœ¨ kernel mode ä¸‹é€²è¡Œï¼ŒOS çŸ¥é“ KLT å­˜åœ¨ï¼Œä¸”ç”± OS ä»‹å…¥ç®¡ç†ã€‚ä¸€èˆ¬ä½œæ¥­ç³»çµ±çš†å±¬ä¹‹ï¼Œå¦‚ Linux, Unix, Windows, Mac OS Xâ€¦</p>
<ul>
<li>å„ªé»ï¼šç•¶ç¨‹åºå…§æŸæ¢åŸ·è¡Œä¸­çš„ kernel-thread è¢«é–ä½æ™‚ï¼ˆå¦‚ç­‰å¾…å…¶ä»–è³‡æºï¼‰ï¼Œä¸æœƒå°è‡´æ•´å€‹ç¨‹åºäº¦è¢«é–ä½ï¼Œå¯åŒæ™‚é€²è¡Œå…¶ä»–åŒåœ¨æ­¤ç¨‹åºä¸­çš„å…¶ä»– Threadã€‚</li>
<li>ç¼ºé»ï¼šé€Ÿåº¦è¼ƒæ…¢ï¼Œä¸€å€‹ç¨‹åºä¸­çš„å…©å€‹ threads åˆ‡æ›éœ€è¦ç¶“é mode switchã€‚</li>
</ul>
<h4 id="Low-weight-Process-è¼•é‡ç´šç¨‹åº">Low-weight Process è¼•é‡ç´šç¨‹åº</h4>
<div class="info">
<p>é€™è£¡ç°¡ç›´æ˜¯æƒ¡å¤¢ï¼Œåœ¨ç¶²è·¯ä¸Šçš„å®šç¾©ç™¾ç™¾ç¨®ï¼Œè€Œä¸”éƒ½å¾ˆæ¨¡ç³Šï¼Œåªå¥½åœ¨ç¯©é¸è³‡è¨Šå¾Œï¼ŒæŠŠè¦ºå¾—åˆç†çš„è§£é‡‹éƒ½ä¸€ä½µæ”¾äº†ä¸Šä¾†ï¼Œå°‡å°±çœ‹ä¸€ä¸‹ã€‚</p>
</div>
<p>è¼•é‡ç´šåŸ·è¡Œç·’ (LWP) æ˜¯ä¸€ç¨®ç”±æ ¸å¿ƒæ”¯æ´çš„ä½¿ç”¨è€…åŸ·è¡Œç·’ã€‚<br>
æ¯ä¸€å€‹ç¨‹åºå¯èƒ½æœ‰ä¸€å€‹æˆ–å¤šå€‹ LWPsï¼Œæ¯å€‹ LWP æ”¯æ´ä¸€å€‹æˆ–å¤šå€‹ ULTsï¼Œè€Œæ¯å€‹ LWP ç”±ä¸€å€‹ KLT æ”¯æ´ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A user-level library multiplex(å¤šè·¯é€šè¨Š) user threads on top of LWPs and provides facilities for inter-thread scheduling, context switching, and synchronization without involving the kernel.[3]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ³¨ï¼š</span><br><span class="line">1. LWPçš„è¡“èªæ˜¯å€Ÿè‡ªæ–¼SVR4&#x2F;MPå’ŒSolaris 2.xã€‚</span><br><span class="line">2. æœ‰äº›ç³»çµ±å°‡LWPæ¯”å–»ç‚ºè™›æ“¬è™•ç†å™¨ï¼Œæˆ–æ˜¯ä»‹æ–¼user thread å’Œ kernel threadä¹‹é–“çš„è³‡æ–™çµæ§‹ï¼Œå¯å° user thread é€²è¡Œæ’ç¨‹ä»¥åŸ·è¡Œåœ¨ user-thread libraryã€‚</span><br><span class="line">3. å°‡ä¹‹ç¨±ç‚ºè¼•é‡ç´šç¨‹åºçš„åŸå› å¯èƒ½æ˜¯ï¼šåœ¨æ ¸å¿ƒåŸ·è¡Œç·’çš„æ”¯æ´ä¸‹ï¼ŒLWPæ˜¯ç¨ç«‹çš„æ’ç¨‹å–®å…ƒï¼Œå°±åƒæ™®é€šçš„ç¨‹åºä¸€æ¨£ã€‚æ‰€ä»¥LWPçš„æœ€å¤§ç‰¹é»é‚„æ˜¯æ¯å€‹LWPéƒ½æœ‰ä¸€å€‹æ ¸å¿ƒåŸ·è¡Œç·’æ”¯æ´ã€‚[4]</span><br></pre></td></tr></table></figure>
<h3 id="Multithread-Model">Multithread Model</h3>
<p>åªåŸ·è¡Œç·’é–“çš„æºé€šæ¨¡å¼ï¼Œä¸»è¦æœ‰ä¸‰ç¨®<br>
<img src="https://imgur.com/2jUidLK.png" alt></p>
<h4 id="1-1">1 : 1</h4>
<p>ä¸€å€‹ ULT å°æ‡‰åˆ°ä¸€å€‹ LWP å†å°æ‡‰åˆ°ä¸€å€‹ KLTï¼Œå¦‚åŒä¸Šåœ–çš„ process 4ï¼Œå³å±¬æ–¼æ­¤æ¨¡å‹ã€‚</p>
<ul>
<li>å„ªé»ï¼šå¯¦ç¾ parallelismï¼Œç•¶ä¸€åŸ·è¡Œç·’é˜»å¡ï¼Œä¸æœƒå½±éŸ¿å…¶ä»–åŸ·è¡Œç·’</li>
<li>ç¼ºé»ï¼šæ¯ä»¶ä¸€å€‹ user threadï¼Œå°±éœ€ç”¢ç”Ÿä¸€å€‹ kernel threadï¼ŒåŸ·è¡Œç·’å»ºç«‹çš„é–‹éŠ·è¼ƒå¤§</li>
</ul>
<h4 id="N-1">N : 1</h4>
<p>æ­¤æ¨¡å‹åˆç¨± pure user threadï¼Œå¤šå€‹ User thread å°æ‡‰åˆ°ä¸€å€‹ Kernel thread æºé€šï¼Œå¦‚åŒä¸Šåœ–çš„ process 2ï¼ŒåŸ·è¡Œç·’ç®¡ç†åœ¨ä½¿ç”¨è€…ç©ºé–“å®Œæˆï¼Œæ­¤æ¨¡å¼ä¸­ä½¿ç”¨è€…åŸ·è¡Œç·’å° OS ä¸å¯è¦‹</p>
<ul>
<li>å„ªé»ï¼šUser thread è¦é–‹å¹¾å€‹éƒ½æ²’å•é¡Œï¼Œä¸”ä¸Šä¸‹æ–‡åˆ‡æ›ç™¼ç”Ÿåœ¨ä½¿ç”¨è€…ç©ºé–“ï¼Œé¿å… mode switchï¼Œæ•ˆèƒ½è¼ƒä½³</li>
<li>ç¼ºé»ï¼šå°å¤šæ ¸å¿ƒè™•ç†å™¨ (Multi-processor) ä¾†èªªå¾ˆæµªè²»ã€‚ä¸€å€‹ä½¿ç”¨è€…åŸ·è¡Œç·’å¦‚æœé˜»å¡åœ¨ç³»çµ±å‘¼å«ä¸­ï¼Œå‰‡æ•´å€‹ç¨‹åºéƒ½å°‡æœƒé˜»å¡ã€‚</li>
</ul>
<h4 id="M-N">M : N</h4>
<p>kernel thread &amp; user thread çš„æ•¸é‡æ¯”ç‚º M : Nï¼Œæ¨¡å‹æä¾›äº†å…©ç´šæ§åˆ¶ï¼Œé¦–å…ˆ user thread å°æ˜ é€™å€‹å¯æ’ç¨‹çš„è¼•é‡ç´šç¨‹åº (LWP)ï¼ŒLWPå†ä¸€ä¸€å°æ˜ åˆ° kernel threadã€‚å¦‚ä¸Šåœ–ä¸­çš„process 3</p>
<ul>
<li>å„ªé»ï¼šç¶œåˆäº†å‰å…©ç¨®å„ªé»ï¼Œå¤§éƒ¨åˆ†çš„åŸ·è¡Œç·’ä¸Šä¸‹æ–‡åˆ‡æ›ç™¼ç”Ÿåœ¨ä½¿ç”¨è€…ç©ºé–“ï¼Œä¸”å¤šå€‹æ ¸å¿ƒåŸ·è¡Œç·’åˆå¯ä»¥å……åˆ†åˆ©ç”¨ CPU è³‡æº</li>
</ul>
<h4 id="Combined">Combined</h4>
<p>å¦‚ä¸Šåœ–ä¸­çš„ process 5ï¼Œæ­¤ç¨‹åºçµåˆ 1:1 æ¨¡å‹åŠ M:N æ¨¡å‹ã€‚é–‹ç™¼äººå“¡å¯ä»¥é‡å°ä¸åŒçš„æ‡‰ç”¨ç‰¹é»èª¿ç¯€ kernel thread çš„æ•¸ç›®ä¾†é”åˆ°ç‰©ç†ä¸¦è¡Œæ€§å’Œé‚è¼¯ä¸¦è¡Œæ€§çš„æœ€ä½³æ–¹æ¡ˆã€‚</p>
<h3 id="CPU-bound-v-s-I-O-bound">CPU bound v.s. I/O bound</h3>
<h4 id="CPU-å¯†é›†å‹-CPU-bound">CPU å¯†é›†å‹ (CPU bound)</h4>
<p>aka è¨ˆç®—å¯†é›†å‹ï¼Œå¤§éƒ¨ä»½æ™‚é–“ç”¨ CPU ä¾†åšè¨ˆç®—ã€é‚è¼¯åˆ¤æ–·ç­‰å‹•ä½œçš„<u>ç¨‹åº</u>ç¨±ä¹‹CPU boundã€‚</p>
<p>CPU boundçš„ç¨‹åºä¸€èˆ¬è€Œè¨€<strong>CPUä½”ç”¨ç‡ç›¸ç•¶é«˜</strong>ï¼Œé€™å¯èƒ½æ˜¯å› ç‚ºä»»å‹™æœ¬èº«ä¸å¤ªéœ€è¦è¨ªå•I/Oè¨­å‚™ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ç‚ºç¨‹åºæ˜¯å¤šåŸ·è¡Œç·’å¯¦ç¾å› æ­¤å±è”½æ‰äº†ç­‰å¾…I/Oçš„æ™‚é–“ã€‚</p>
<p>è€Œç”±æ–¼ä¸»è¦æœƒæ¶ˆè€—CPUè³‡æºï¼Œå› æ­¤ï¼Œä»£ç¢¼é‹è¡Œæ•ˆç‡è‡³é—œé‡è¦ã€‚Pythoné€™æ¨£çš„è…³æœ¬èªè¨€é‹è¡Œæ•ˆç‡å¾ˆä½ï¼Œå°±ä¸é©åˆè¨ˆç®—å¯†é›†å‹ä»»å‹™ã€‚</p>
<h4 id="I-O-å¯†é›†å‹-I-O-bound">I/O å¯†é›†å‹ (I/O bound)</h4>
<p>I/O å¯†é›†å‹æ¶‰åŠåˆ°<strong>ç¶²çµ¡ã€æª”æ¡ˆè®€å¯«</strong>çš„ä»»å‹™éƒ½æ˜¯ I/O å¯†é›†å‹ä»»å‹™ï¼Œé€™é¡ä»»å‹™çš„ç‰¹é»æ˜¯ <strong>CPU æ¶ˆè€—å¾ˆå°‘</strong>ï¼Œä»»å‹™çš„å¤§éƒ¨åˆ†æ™‚é–“éƒ½åœ¨ç­‰å¾… I/O æ“ä½œå®Œæˆã€‚å¸¸è¦‹çš„ I/O å¯†é›†å‹ä»»å‹™ï¼Œå¦‚Webæ‡‰ç”¨ã€è³‡æ–™åº«è®€å¯«ã€‚</p>
<p>å°æ–¼ I/O å¯†é›†å‹ä»»å‹™ï¼Œæœ€åˆé©çš„èªè¨€å°±æ˜¯é–‹ç™¼æ•ˆç‡æœ€é«˜çš„èªè¨€ï¼Œè…³æœ¬èªè¨€æ˜¯é¦–é¸ã€‚</p>
<h4 id="åŸ·è¡Œç·’æ± -Thread-Pool">åŸ·è¡Œç·’æ±  Thread Pool</h4>
<p>ä¸€ç¨®åŸ·è¡Œç·’ä½¿ç”¨æ¨¡å¼ã€‚åŸ·è¡Œç·’éå¤šæœƒå¸¶ä¾†èª¿åº¦é–‹éŠ·ï¼Œé€²è€Œå½±éŸ¿å¿«å–å±€éƒ¨æ€§å’Œæ•´é«”æ€§èƒ½ã€‚è€ŒåŸ·è¡Œç·’æ± ç¶­è­·è‘—å¤šå€‹åŸ·è¡Œç·’ï¼Œç­‰å¾…è‘—ç›£ç£ç®¡ç†è€…åˆ†é…å¯ä¸¦ç™¼åŸ·è¡Œçš„ä»»å‹™ï¼Œé™ä½åœ¨è™•ç†çŸ­æ™‚é–“ä»»å‹™æ™‚å‰µå»ºèˆ‡éŠ·æ¯€åŸ·è¡Œç·’çš„ä»£åƒ¹ï¼›èƒ½ä¿è­‰æ ¸å¿ƒçš„å……åˆ†åˆ©ç”¨ä»¥åŠé˜²æ­¢éåˆ†èª¿åº¦ã€‚[5]</p>
<h4 id="åŸ·è¡Œç·’æ± èˆ‡-CPU-bound-or-I-O-bound-çš„é…ç½®">åŸ·è¡Œç·’æ± èˆ‡ CPU bound or I/O bound çš„é…ç½®</h4>
<p>CPU å¯†é›†å‹ä»»å‹™ï¼šæ‡‰é…ç½®å„˜å¯èƒ½<strong>å°çš„</strong>åŸ·è¡Œç·’æ± ï¼Œå› ç‚ºå¤šå€‹åŸ·è¡Œç·’é–“é »ç¹é€²è¡Œä¸Šä¸‹æ–‡åˆ‡æ›å°æ–¼ç¨‹å¼æ•ˆèƒ½æè€—è¼ƒå¤§ï¼Œæ‰€ä»¥åŸ·è¡Œç·’æ•¸æ‡‰é…ç½® <code>CPU æ ¸å¿ƒæ•¸ + 1</code>ã€‚</p>
<p>I/O å¯†é›†å‹ä»»å‹™ï¼šæ‡‰é…ç½®å„˜å¯èƒ½<strong>å¤§çš„</strong>åŸ·è¡Œç·’æ± ï¼Œç•¶ä¸€å€‹ä»»å‹™åŸ·è¡ŒIOæ“ä½œæ™‚ï¼ŒåŸ·è¡Œç·’å°‡è¢«é˜»å¡ï¼Œæ–¼æ˜¯è™•ç†å™¨å¯ä»¥ç«‹å³é€²è¡Œ(å›  CPU æ¶ˆè€—å°‘) ä¸Šä¸‹æ–‡åˆ‡æ›ä»¥ä¾¿è™•ç†å…¶ä»–å°±ç·’åŸ·è¡Œç·’ã€‚å¦‚æœæˆ‘å€‘åªæœ‰è™•ç†å™¨æ ¸å¿ƒæ•¸é‚£éº¼å¤šå€‹åŸ·è¡Œç·’çš„è©±ï¼Œå³ä½¿æœ‰å¾…åŸ·è¡Œçš„ä»»å‹™ä¹Ÿç„¡æ³•æ’ç¨‹è™•ç†ï¼Œæ‰€ä»¥åŸ·è¡Œç·’æ•¸æ‡‰é…ç½® <code>2 * CPU</code>ã€‚</p>
<h3 id="Context-Switch">Context Switch</h3>
<p>ä¸Šä¸‹æ–‡è½‰æ›æŒ‡CPUåœ¨ä¸åŒä»»å‹™é–“åˆ‡æ›æ™‚ï¼Œå¿…é ˆå°‡èˆŠä»»å‹™çš„ç‹€æ…‹å„²å­˜èµ·ä¾†ï¼Œå†è¼‰å…¥æ–°ä»»å‹™çš„å„²å­˜ç‹€æ…‹çš„å‹•ä½œï¼Œä¸Šä¸‹æ–‡å¯ä»¥è¦–ç‚ºç’°å¢ƒï¼Œä»¥ç¨‹åºä¾†èªªï¼Œå°±æ˜¯<strong>ç¨‹åºåŸ·è¡Œçš„ç’°å¢ƒ</strong>ã€‚</p>
<p>æ ¹æ“šCPUåŸ·è¡Œçš„ä»»å‹™çš„ä¸åŒï¼Œä¸Šä¸‹æ–‡åˆ‡æ›åˆ†ç‚ºä¸‰ç¨®ï¼š</p>
<h4 id="ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆProcess-Context-Switchï¼‰">ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆProcess Context Switchï¼‰</h4>
<p>é¡§åæ€ç¾©å³ç‚ºä¸åŒç¨‹åºçš„åˆ‡æ›æ‰€ç”¢ç”Ÿçš„costï¼Œä¸Šä¸‹æ–‡ç‚ºä½¿ç”¨è€…ç¨‹åºå‚³éçµ¦kernelçš„ä¸€äº›è®Šæ•¸å’Œæš«å­˜å™¨å€¼å’Œç•¶æ™‚çš„ç’°å¢ƒç­‰ï¼Œä¸»è¦å„²å­˜åœ¨PCB(Process Control Block)ç•¶ä¸­ã€‚<br>
PCBç‚ºåœ¨Kernelä¸­é‡å°æ¯ä¸€å€‹ç¨‹åºæ‰€å»ºç«‹çš„ä¸€å€‹è³‡æ–™çµæ§‹ï¼Œè¨˜è¼‰è©² ç¨‹åºçš„ç›¸é—œè³‡è¨Šã€‚<br>
<img src="https://imgur.com/jPEtZMl.png" alt></p>
<p>æ¬²äº†è§£PCBçµ„æˆï¼Œè«‹åƒè€ƒ<br>
<a href="https://en.wikipedia.org/wiki/Process_control_block" target="_blank" rel="external nofollow noopener noreferrer">wiki</a></p>
<h4 id="åŸ·è¡Œç·’ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆThread-Context-Switchï¼‰">åŸ·è¡Œç·’ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆThread Context Switchï¼‰</h4>
<p>æœ‰å…©ç¨®ç‹€æ³:</p>
<ol>
<li>å‰å¾Œå…©å€‹åŸ·è¡Œç·’æ‰€å±¬ä¸åŒç¨‹åºï¼Œæ­¤åˆ‡æ›å¯èˆ‡ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›è¦–ç‚ºåŒä¸€ç¨®ã€‚</li>
<li>å‰å¾Œå…©å€‹åŸ·è¡Œç·’å±¬æ–¼åŒä¸€å€‹ç¨‹åºï¼Œå› åŒç¨‹åºå…§çš„ä¸åŒåŸ·è¡Œç·’æœƒå…±äº«è³‡æºï¼Œæ‰€ä»¥åœ¨åˆ‡æ›æ™‚ï¼Œè™›æ“¬è¨˜æ†¶é«”çš„è³‡æºä¸è®Šï¼Œåªéœ€è¦åˆ‡æ›åŸ·è¡Œç·’çš„ç§æœ‰æ•¸æ“šã€æš«å­˜å™¨ç­‰ä¸å…±äº«çš„æ•¸æ“šã€‚æ­¤åˆ‡æ›æ‰€æ¶ˆè€—çš„costè¼ƒå°ã€‚</li>
</ol>
<h4 id="ä¸­æ–·ä¸Šä¸‹æ–‡åˆ‡æ›-Interrupt-handling">ä¸­æ–·ä¸Šä¸‹æ–‡åˆ‡æ› (Interrupt handling)</h4>
<p>ä¸­æ–·ä¸Šä¸‹æ–‡åˆ‡æ›æ˜¯ç‚ºäº†éŸ¿æ‡‰ç¡¬ä»¶çš„å„ç¨®äº‹ä»¶è¨­è¨ˆå‡ºä¾†çš„ï¼Œä¸­æ–·ç¨‹åºæœƒæ‰“æ–·å…¶ä»–ç¨‹åºçš„åŸ·è¡Œã€‚ä¾‹å¦‚ï¼Œç•¶å‰CPUæ­£åœ¨åŸ·è¡ŒæŸç¨‹åºï¼Œé€™å€‹æ™‚å€™æˆ‘å€‘æ»‘å‹•é¼ æ¨™ï¼ŒæŒ‰äº†ä¸‹éµç›¤ï¼ŒCPUå°±å¿…é ˆä¸­æ–·æ­£åœ¨åŸ·è¡Œçš„ç¨‹åºï¼Œè½‰è€Œå»éŸ¿æ‡‰é€™äº›ç¡¬ä»¶çš„äº‹ä»¶ã€‚</p>
<p>å¯ä»¥çœ‹ä½œå°±æ˜¯ç¡¬é«”å‚³ééä¾†çš„é€™äº›å¼•æ•¸å’Œæ ¸å¿ƒéœ€è¦å„²å­˜çš„ä¸€äº›å…¶ä»–ç’°å¢ƒï¼ˆä¸»è¦æ˜¯ç•¶å‰è¢«æ‰“æ–·åŸ·è¡Œçš„ç¨‹åºç’°å¢ƒï¼‰ã€‚</p>
<p>æ›´ä»”ç´°çš„é‡æ¸…ä¸­æ–·ä¸Šä¸‹æ–‡æ™‚ç™¼ç¾ï¼šä¸­æ–·ä¸Šä¸‹æ–‡çš„éç¨‹ä¹Ÿå¯èƒ½åŒ…å«ä¸Šæ–¹æ‰€æåˆ°çš„user modeåˆ‡æ›åˆ°kernel modeçš„mode switch</p>
<p>ä¾‹å¦‚ï¼šã€ŒTimerã€ç‚ºä¸€ç¨®ç¡¬é«”ï¼Œåœ¨å”åŠ©ã€ŒRound robinã€æ’ç¨‹ã€é˜²æ­¢å–®ä¸€ Process éœ¸ä½”è€Œä¿è­· CPU æ™‚ï¼Œæœƒè§¸ç™¼<br>
<img src="https://imgur.com/bZChgTB.png" alt><br>
â‘ â‘¡â‘¢â‘£æ­¥é©Ÿéƒ½æ¶‰åŠåˆ°ä¿å­˜registeræˆ–æ¢å¾©registerçš„æ“ä½œã€‚</p>
<p>â‘¡è·Ÿâ‘¢æ˜¯å±¬æ–¼ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›â€”â€”å¾é€²ç¨‹Açš„ä¸Šä¸‹æ–‡åˆ‡æ›è‡³é€²ç¨‹Bçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>è€Œâ‘ å’Œâ‘£æ­¥é©Ÿç”±CPUç¡¬é«”å®Œæˆï¼Œç”±ä¸­æ–·è§¸ç™¼ï¼Œè·Ÿç¨‹åºåˆ‡æ›æ²’æœ‰ç›´æ¥é—œä¿‚ã€‚ä¸éå…¶å¯¦ä¹Ÿå¯ä»¥æŠŠé€™å€‹æ­¥é©Ÿæ­¸ç¨±ä¹‹ç‚ºä¸Šä¸‹æ–‡åˆ‡æ›ï¼Œåªä¸éé€™æ˜¯CPU kernel modeèˆ‡user modeä¹‹é–“çš„ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆmode switchï¼‰ã€‚[6]</p>
<h4 id="å°çµ-2">å°çµ</h4>
<ul>
<li>CPUçš„ç‹€æ…‹å¯ä»¥æ­¸ç´ç‚ºä»¥ä¸‹ä¸‰å€‹
<ul>
<li>Kernel Modeï¼Œè·‘ç¨‹åºä¸Šä¸‹æ–‡ï¼Œç¨‹åºé‹è¡Œæ–¼Kernel space</li>
<li>Kernel Modeï¼Œè·‘ä¸­æ–·ä¸Šä¸‹æ–‡ï¼Œç¡¬é«”é‹è¡Œæ–¼Kernel space</li>
<li>User Modeï¼Œè·‘userç¨‹åºï¼Œç¨‹åºé‹è¡Œæ–¼User space</li>
</ul>
</li>
<li>å¦‚æœåƒ…åƒ…æ˜¯ä¸­æ–·ï¼ˆä¾‹å¦‚ç³»çµ±èª¿ç”¨ï¼‰ï¼Œè€Œæœªç™¼ç”Ÿé€²ç¨‹åˆ‡æ›ï¼Œä¸¦ä¸éœ€è¦ä¿å­˜é€²ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯(process context switch)ã€‚</li>
</ul>
<h4 id="è£œå……ï¼šä¸Šä¸‹æ–‡åˆ‡æ›åŸ·è¡Œæ–¼Kernel-spaceçš„åŸå› ">è£œå……ï¼šä¸Šä¸‹æ–‡åˆ‡æ›åŸ·è¡Œæ–¼Kernel spaceçš„åŸå› </h4>
<p>å¤§éƒ¨åˆ†çš„OSä½¿ç”¨è™›æ“¬è¨˜æ†¶é«”ï¼ˆvirtual memoryï¼‰ï¼Œç”¨ä»¥å¢åŠ å¯¦é«”è¨˜æ†¶é«”çš„ä½¿ç”¨æ•ˆç‡ã€‚æ¯å€‹ç¨‹åºéƒ½æœ‰è‡ªå·±çš„è™›æ“¬åœ°å€ç©ºé–“ï¼ˆvirtual address spaceï¼‰ï¼Œé€éCPUä¸­çš„å…§å­˜ç®¡ç†å–®å…ƒï¼ˆmemory management unitï¼ŒMMUï¼‰æ¨™è­˜ç•¶å‰æ­£åœ¨é‹è¡Œç¨‹åºçš„åœ°å€è½‰æ›æ˜ å°„è¡¨ï¼ˆaddress translation mapï¼‰ï¼Œå°‡è™›æ“¬ä½å€è½‰ç‚ºç‰©ç†ä½å€ã€‚<br>
<img src="https://imgur.com/v5Eup0o.png" alt><br>
å¾ˆå¤šç³»çµ±ä»¥é è¡¨ï¼ˆpage tableï¼‰çš„æ–¹å¼ä¾†å¯¦ç¾é€™äº›æ˜ å°„ã€‚åœ¨ç•¶å‰ç¨‹åºå°‡CPUè®“çµ¦å¦å¤–ä¸€å€‹ç¨‹åºæ™‚ï¼ˆå³ç™¼ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆcontext switchï¼‰ï¼‰ï¼Œkernelæœƒå°‡é€™äº›æš«å­˜å™¨(regs)å’ŒæŒ‡é‡(k-stack)åŠ è¼‰åˆ°æ–°é€²ç¨‹çš„è½‰æ›æ˜ å°„è¡¨ä¸­ã€‚è€ŒMMUå¯„å­˜å™¨æ˜¯å—ç‰¹æ¬Šä¿è­·çš„(ring 0)ï¼Œåªèƒ½åœ¨kernel modeä¸‹è¨ªå•ã€‚é€™å°±ç¢ºä¿ä¸€å€‹ç¨‹åºåªèƒ½å¼•ç”¨å®ƒè‡ªå·±ç©ºé–“ä¸­çš„åœ°å€ï¼Œè€Œä¸èƒ½è¨ªå•æˆ–è€…ä¿®æ”¹å…¶ä»–é€²ç¨‹çš„åœ°å€ç©ºé–“ã€‚</p>
<h6 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h6>
<p>[1]<a href="https://www.geeksforgeeks.org/difference-between-multitasking-multithreading-and-multiprocessing/" target="_blank" rel="external nofollow noopener noreferrer">https://www.geeksforgeeks.org/difference-between-multitasking-multithreading-and-multiprocessing/</a><br>
[2]<a href="https://zh.wikipedia.org/wiki/%E5%88%86%E7%BA%A7%E4%BF%9D%E6%8A%A4%E5%9F%9F" target="_blank" rel="external nofollow noopener noreferrer">https://zh.wikipedia.org/wiki/åˆ†çº§ä¿æŠ¤åŸŸ</a><br>
[3]<a href="https://stackoverflow.com/questions/10484355/what-the-difference-between-lightweight-process-and-thread" target="_blank" rel="external nofollow noopener noreferrer">https://stackoverflow.com/questions/10484355/what-the-difference-between-lightweight-process-and-thread</a><br>
[4]<a href="https://www.tutorialspoint.com/lightweight-process-lwp" target="_blank" rel="external nofollow noopener noreferrer">https://www.tutorialspoint.com/lightweight-process-lwp</a><br>
[5]<a href="https://www.easyatm.com.tw/wiki/%E5%9F%B7%E8%A1%8C%E7%B7%92%E6%B1%A0" target="_blank" rel="external nofollow noopener noreferrer">https://www.easyatm.com.tw/wiki/åŸ·è¡Œç·’æ± </a><br>
[6]<a href="http://pages.cs.wisc.edu/~remzi/OSTEP/cpu-mechanisms.pdf" target="_blank" rel="external nofollow noopener noreferrer">http://pages.cs.wisc.edu/~remzi/OSTEP/cpu-mechanisms.pdf</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/OS/" rel="tag"># OS</a>
              <a href="/tags/kernel/" rel="tag"># kernel</a>
              <a href="/tags/Context-Switch/" rel="tag"># Context Switch</a>
              <a href="/tags/Multi-Thread/" rel="tag"># Multi-Thread</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/Golang-Function.html" rel="prev" title="[Golang] Function">
      <i class="fa fa-chevron-left"></i> [Golang] Function
    </a></div>
      <div class="post-nav-item">
    <a href="/nginx-certbot.html" rel="next" title="[SSL] ç”¨ Let's Encrypt & Certbot ç‚ºç¶²ç«™åŠ å¯†">
      [SSL] ç”¨ Let's Encrypt & Certbot ç‚ºç¶²ç«™åŠ å¯† <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’"><span class="nav-number">1.</span> <span class="nav-text">ç¨‹å¼ã€ç¨‹åºã€åŸ·è¡Œç·’</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¨‹å¼-Program"><span class="nav-number">1.1.</span> <span class="nav-text">ç¨‹å¼(Program)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¨‹åº-Process"><span class="nav-number">1.2.</span> <span class="nav-text">ç¨‹åº(Process)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸ·è¡Œç·’-Thread"><span class="nav-number">1.3.</span> <span class="nav-text">åŸ·è¡Œç·’(Thread)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½µç™¼-concurrency-v-s-ä¸¦è¡Œ-parallelism"><span class="nav-number">2.</span> <span class="nav-text">ä½µç™¼(concurrency) v.s. ä¸¦è¡Œ(parallelism)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½µç™¼"><span class="nav-number">2.1.</span> <span class="nav-text">ä½µç™¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸¦è¡Œ"><span class="nav-number">2.2.</span> <span class="nav-text">ä¸¦è¡Œ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiprogramingã€Multiprocessingã€Multitaskingã€Multithreading"><span class="nav-number">3.</span> <span class="nav-text">Multiprogramingã€Multiprocessingã€Multitaskingã€Multithreading</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Multiprogramming"><span class="nav-number">3.1.</span> <span class="nav-text">Multiprogramming</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Multiprocessing"><span class="nav-number">3.2.</span> <span class="nav-text">Multiprocessing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Multitasking"><span class="nav-number">3.3.</span> <span class="nav-text">Multitasking</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Multithreading"><span class="nav-number">3.4.</span> <span class="nav-text">Multithreading</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Kernel-Space-User-Space"><span class="nav-number">4.</span> <span class="nav-text">Kernel Space &amp; User Space</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Kernel-Space-å…§æ ¸ç©ºé–“"><span class="nav-number">4.1.</span> <span class="nav-text">Kernel Space å…§æ ¸ç©ºé–“</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#User-Spaceg-ä½¿ç”¨è€…ç©ºé–“"><span class="nav-number">4.2.</span> <span class="nav-text">User Spaceg ä½¿ç”¨è€…ç©ºé–“</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Protection-Ring"><span class="nav-number">4.3.</span> <span class="nav-text">Protection Ring</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Kernel-Mode-User-Mode"><span class="nav-number">4.4.</span> <span class="nav-text">Kernel Mode &amp; User Mode</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ¨¡å¼åˆ‡æ›-Mode-Switch"><span class="nav-number">4.5.</span> <span class="nav-text">æ¨¡å¼åˆ‡æ›(Mode Switch)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°çµ"><span class="nav-number">4.6.</span> <span class="nav-text">å°çµ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Single-thread-Multi-thread"><span class="nav-number">5.</span> <span class="nav-text">Single-thread &amp; Multi-thread</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Single-Thread-å–®åŸ·è¡Œç·’"><span class="nav-number">5.1.</span> <span class="nav-text">Single Thread å–®åŸ·è¡Œç·’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Multi-Thread-å¤šåŸ·è¡Œç·’"><span class="nav-number">5.2.</span> <span class="nav-text">Multi Thread å¤šåŸ·è¡Œç·’</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ULT-KLT-LWP"><span class="nav-number">6.</span> <span class="nav-text">ULT &amp; KLT &amp; LWP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#User-Thread-ä½¿ç”¨è€…åŸ·è¡Œç·’"><span class="nav-number">6.1.</span> <span class="nav-text">User Thread ä½¿ç”¨è€…åŸ·è¡Œç·’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Kernel-Thread-æ ¸å¿ƒåŸ·è¡Œç·’"><span class="nav-number">6.2.</span> <span class="nav-text">Kernel Thread æ ¸å¿ƒåŸ·è¡Œç·’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Low-weight-Process-è¼•é‡ç´šç¨‹åº"><span class="nav-number">6.3.</span> <span class="nav-text">Low-weight Process è¼•é‡ç´šç¨‹åº</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multithread-Model"><span class="nav-number">7.</span> <span class="nav-text">Multithread Model</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1"><span class="nav-number">7.1.</span> <span class="nav-text">1 : 1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#N-1"><span class="nav-number">7.2.</span> <span class="nav-text">N : 1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#M-N"><span class="nav-number">7.3.</span> <span class="nav-text">M : N</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Combined"><span class="nav-number">7.4.</span> <span class="nav-text">Combined</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CPU-bound-v-s-I-O-bound"><span class="nav-number">8.</span> <span class="nav-text">CPU bound v.s. I&#x2F;O bound</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CPU-å¯†é›†å‹-CPU-bound"><span class="nav-number">8.1.</span> <span class="nav-text">CPU å¯†é›†å‹ (CPU bound)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O-å¯†é›†å‹-I-O-bound"><span class="nav-number">8.2.</span> <span class="nav-text">I&#x2F;O å¯†é›†å‹ (I&#x2F;O bound)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸ·è¡Œç·’æ± -Thread-Pool"><span class="nav-number">8.3.</span> <span class="nav-text">åŸ·è¡Œç·’æ±  Thread Pool</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸ·è¡Œç·’æ± èˆ‡-CPU-bound-or-I-O-bound-çš„é…ç½®"><span class="nav-number">8.4.</span> <span class="nav-text">åŸ·è¡Œç·’æ± èˆ‡ CPU bound or I&#x2F;O bound çš„é…ç½®</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Context-Switch"><span class="nav-number">9.</span> <span class="nav-text">Context Switch</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆProcess-Context-Switchï¼‰"><span class="nav-number">9.1.</span> <span class="nav-text">ç¨‹åºä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆProcess Context Switchï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸ·è¡Œç·’ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆThread-Context-Switchï¼‰"><span class="nav-number">9.2.</span> <span class="nav-text">åŸ·è¡Œç·’ä¸Šä¸‹æ–‡åˆ‡æ›ï¼ˆThread Context Switchï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸­æ–·ä¸Šä¸‹æ–‡åˆ‡æ›-Interrupt-handling"><span class="nav-number">9.3.</span> <span class="nav-text">ä¸­æ–·ä¸Šä¸‹æ–‡åˆ‡æ› (Interrupt handling)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°çµ-2"><span class="nav-number">9.4.</span> <span class="nav-text">å°çµ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è£œå……ï¼šä¸Šä¸‹æ–‡åˆ‡æ›åŸ·è¡Œæ–¼Kernel-spaceçš„åŸå› "><span class="nav-number">9.5.</span> <span class="nav-text">è£œå……ï¼šä¸Šä¸‹æ–‡åˆ‡æ›åŸ·è¡Œæ–¼Kernel spaceçš„åŸå› </span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#åƒè€ƒè³‡æ–™"><span class="nav-number">9.5.0.1.</span> <span class="nav-text">åƒè€ƒè³‡æ–™</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ula Hsieh" src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Ula Hsieh</p>
  <div class="site-description" itemprop="description">Hello! :-) æˆ‘æ˜¯ Ula <br>(ç™¼éŸ³ U æ‹‰æˆ–çƒæ‹‰éƒ½å¯ä»¥)<br>å–œæ­¡åƒã€‚<br>æ­£åœ¨å¾€ç¨±è·çš„å·¥ç¨‹å¸«è·¯ä¸Šå‰é€²ã€‚</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">56</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">71</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:yiju.117@gmail.com" title="E-Mail â†’ mailto:yiju.117@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ula Hsieh</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
<div id="needsharebutton-float">
      <span class="btn">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </span>
    </div>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      flOptions = {};
        flOptions.iconStyle = "default";
        flOptions.boxForm = "horizontal";
        flOptions.position = "middleRight";
        flOptions.networks = "Wechat,Twitter,Facebook";
      new needShareButton('#needsharebutton-float', flOptions);
  </script>
<script>
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://ulahsieh.github.io/OS-introduction.html",
            identifier: "OS-introduction.html",
            title: "[OS] ä½œæ¥­ç³»çµ±æ¦‚è«–"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://ulagraphy.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
